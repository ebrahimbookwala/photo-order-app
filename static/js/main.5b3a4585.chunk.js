(this["webpackJsonpphoto-order-app"]=this["webpackJsonpphoto-order-app"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(18),a=n.n(i),o=(n(26),n(27),n(9)),s=n(21),u=n(16),j=n(7),l=n(1),b=c.a.createContext(),d=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],i=n[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),d=o[0],O=o[1];Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]);return Object(l.jsx)(b.Provider,{value:{photos:c,toggleFavorite:function(e){var t=c.map((function(t){return t.id===e?(console.log(!t.isFavorite),Object(u.a)(Object(u.a)({},t),{},{isFavorite:!t.isFavorite})):t}));i(t)},cartItems:d,addToCart:function(e){O((function(t){return[].concat(Object(s.a)(t),[e])}))},removeFromCart:function(e){O((function(t){return t.filter((function(t){return t.id!==e.id}))}))},refreshCart:function(){O([])}},children:e.children})};var O=function(){var e=Object(r.useContext)(b).cartItems;return Object(l.jsxs)("header",{children:[Object(l.jsx)("h2",{children:Object(l.jsx)(o.b,{to:"/",children:"Pic Some"})}),Object(l.jsx)(o.b,{to:"/cart",children:e.length?Object(l.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(l.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})})]})},f=n(2);var m=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(r.useRef)(null),a=function(){c((function(e){return!e}))};return Object(r.useEffect)((function(){var e=i.current;return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",a),function(){e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",a)}}),[]),[n,i]};var h=function(e){var t,n=e.img,c=e.id,i=e.className,a=m(),o=Object(j.a)(a,2),s=o[0],u=o[1],d=Object(r.useContext)(b),O=d.toggleFavorite,f=d.addToCart,h=d.cartItems,x=d.removeFromCart,v=function(e){O(e)};return n.isFavorite?t=Object(l.jsx)("i",{className:"ri-heart-fill favorite",onClick:function(){return v(c)}}):s&&(t=Object(l.jsx)("i",{className:"ri-heart-line favorite",onClick:function(){return v(c)}})),Object(l.jsxs)("div",{className:"".concat(i," image-container"),ref:u,children:[t,h.some((function(e){return e.id===c}))?Object(l.jsx)("i",{className:"ri-shopping-cart-fill cart",onClick:function(){return x(n)}}):s?Object(l.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){f(n)}}):null,Object(l.jsx)("img",{src:n.url,className:"image-grid",alt:""})]})};var x=function(){var e=Object(r.useContext)(b);return console.log(e.cartItems),Object(l.jsx)("main",{className:"photos",children:e.photos.length?e.photos.map((function(e){return Object(l.jsx)(h,{img:e,id:e.id,className:(t=e.id,t%5===0?"big":t%6===0?"wide":void 0)},e.id);var t})):Object(l.jsx)("p",{children:"No Photos Found"})})},v=function(e){var t=e.item,n=Object(r.useContext)(b).removeFromCart,c=m(),i=Object(j.a)(c,2),a=i[0],o=i[1];return Object(l.jsxs)("div",{className:"cart-item",children:[Object(l.jsx)("i",{className:a?"ri-delete-bin-fill":"ri-delete-bin-line",onClick:function(){return n(t)},ref:o}),Object(l.jsx)("img",{src:t.url,width:"130px",alt:"pictures"}),Object(l.jsx)("p",{children:"$5.99"})]})};var g=function(){var e=Object(r.useContext)(b),t=e.cartItems,n=e.refreshCart,c=Object(r.useState)("Place Order"),i=Object(j.a)(c,2),a=i[0],o=i[1],s=t.reduce((function(e){return e+5.99}),0);return s=s.toLocaleString("en-US",{style:"currency",currency:"USD"}),t.length?Object(l.jsxs)("main",{className:"cart-page",children:[t.map((function(e){return Object(l.jsx)(v,{item:e},e.id)})),Object(l.jsxs)("p",{className:"total-cost",children:["Total: ",s]}),Object(l.jsx)("div",{className:"order-button",children:Object(l.jsx)("button",{onClick:function(){o("Ordering..."),setTimeout((function(){console.log("Order Placed"),o("Place Order"),n(),f.a}),3e3)},children:a})})]}):Object(l.jsx)("h1",{children:"Nothing to show"})};var p=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(O,{}),Object(l.jsxs)(f.d,{children:[Object(l.jsx)(f.b,{exact:!0,path:"/",children:Object(l.jsx)(x,{})}),Object(l.jsx)(f.b,{path:"/cart",children:Object(l.jsx)(g,{})})]})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(l.jsx)(d,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(p,{})})}),document.getElementById("root")),C()}},[[34,1,2]]]);
//# sourceMappingURL=main.5b3a4585.chunk.js.map